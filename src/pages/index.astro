---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import EmpolyeeCard from "../components/EmpolyeeCard.astro";
import { shuffle } from "../utils";
import CategorySelector from "../components/CategorySelector.astro";

const mentors = await getCollection("mentors");
---

<Layout title={"Variant Mentoring"}>
  <h1 class="text-4xl font-bold text-center my-4 block">Finn din mentor</h1>

  <div class="max-w-[30rem] mt-12 mx-auto">
    <p>
      I Variant tilbyr vi mentoring til andre Varianter og folk utenfor Variant.
      Dersom du ønsker en sesjon med en av våre mentorer så kan du sende epost
      direkte og gi informasjon om hva du ønsker mentoring innen.
    </p>
  </div>

  <CategorySelector selected="all" />

  <div class="grid gap-8 grid-flow-row grid-cols-fluid my-24 justify-center">
    {
      shuffle(mentors).map(async ({ data, render, slug }) => {
        const { Content } = await render();
        return (
          <EmpolyeeCard
            Content={Content}
            email={data.email}
            tags={data.tags}
            slug={slug}
          />
        );
      })
    }
  </div>
</Layout>
