---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";

const mentors = await getCollection("mentors");
---

<Layout title={"Variant Mentoring"}>
  <h1 class="font-gloock text-4xl font-bold text-center my-4 block">
    <a href="/">Variant Mentoring</a>
  </h1>
  {
    mentors.map(async ({ data, render }) => {
      const { Content } = await render();
      return (
        <>
          <div class="max-w-md mx-auto md:max-w-2xl min-w-0 break-words bg-white w-full mb-6 shadow-lg rounded-xl mt-20">
            <div class="px-8">
              <div class="flex flex-wrap justify-center">
                <div class="w-full flex justify-center">
                  <div class="relative">
                    <img
                      src={`mentors/${data.picture}`}
                      class="rounded-full align-middle border-none absolute -m-16 -ml-20 lg:-ml-16 max-w-[150px]"
                    />
                  </div>
                </div>
              </div>
              <div class="text-center mt-16">
                <h3 class="text-2xl text-slate-700 font-bold leading-normal mb-1">
                  {data.name}
                </h3>
                <div class="text-xs mt-0 mb-2 text-slate-400 font-bold uppercase">
                  <i class="fas fa-map-marker-alt mr-2 text-slate-400 opacity-75" />
                  {data.city}
                </div>
              </div>
              <div class="w-full text-center">
                <div class="flex justify-center pb-0">
                  {data.tags.map(tag => (
                    <div class="p-3 text-center">
                      <span class="font-bold block uppercase tracking-wide text-slate-700">
                        {tag}
                      </span>
                    </div>
                  ))}
                </div>
              </div>
              <div class=" py-2 text-center">
                <div class="flex flex-wrap justify-center">
                  <div class="w-full px-4">
                    <p class="font-light leading-relaxed text-slate-600">
                      <Content />
                    </p>
                    <a href={`mailto:${data.email}`}>
                      <button class="mt-3 mb-3 group rounded-xl h-12 w-48 bg-green-500 font-bold text-white relative overflow-hidden">
                        Kontakt for mentortime
                        <div class="absolute duration-300 inset-0 w-full h-full transition-all scale-0 group-hover:scale-100 group-hover:bg-white/30 rounded-xl" />
                      </button>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </>
      );
    })
  }
</Layout>
