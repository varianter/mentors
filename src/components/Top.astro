---
import RandomPickButton from "../components/RandomPickButton";
import Typewriter from "../components/Typewriter";

const allTopics = await Astro.glob("../pages/topic/*.md");
const topics = allTopics.map(t => t.frontmatter.title);
const topicUrls = allTopics.map(t => t.url).filter(Boolean) as string[];
---

<h1 class="font-gloock text-4xl font-bold text-center my-4 block">
  <a href="/">What to learn?</a>
</h1>

<div
  class="rounded-full flex items-center shadow-2xl py-3 px-7 shadow-zinc-400 m-4"
>
  <div class="flex-1"><Typewriter client:only topics={topics} /></div>
  <RandomPickButton client:load topicUrls={topicUrls} />
</div>

<div class="w-full flex justify-center p-2">
  <a
    href="/topic"
    class="underline hover:no-underline hover:opacity-50 transition"
    >All topics</a
  >
</div>
