---
import type { GetStaticPathsOptions, Page } from "astro";
import Top from "../../components/Top.astro";
import Layout from "../../layouts/Layout.astro";

interface Props {
  page: Page<MentorPage>;
}

type MentorPage = {
  url?: string;
  name: string;
};

export async function getStaticPaths({ paginate }: GetStaticPathsOptions) {
  const files = await Astro.glob("./*.md");
  const pages: MentorPage[] = files.map(f => ({
    url: f.url,
    name: f.frontmatter.name,
  }));
  // Generate pages from our array of astronauts, with 2 to a page
  return paginate(pages, { pageSize: 2 });
}
const { page } = Astro.props;
---

<Layout title="What to learn.">
  <Top />
  <p class="text-center">Page {page.currentPage}/{page.size}</p>

  <ol>
    {
      page.data.map(({ name, url }) => (
        <li class="my-10">
          <a
            href={url}
            class="rounded-full flex items-center font-normal rem shadow-2xl py-3 px-7 shadow-zinc-400 m-4 hover:shadow-xl active:shadow-lg active:opacity-50 transition">
            {name}
          </a>
        </li>
      ))
    }
  </ol>

  {page.url.prev ? <a href={page.url.prev}>Previous</a> : null}
  {page.url.next ? <a href={page.url.next}>Next</a> : null}
</Layout>
